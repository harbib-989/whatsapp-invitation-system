# ๐ ุฏููู ุฅูุดุงุก ุฃุฒุฑุงุฑ WhatsApp ููููุชูู

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงูุฏููู ูุดุฑุญ ููููุฉ ุฅูุดุงุก **ุฃุฒุฑุงุฑ ุชูุงุนููุฉ ุญููููุฉ** ูู WhatsApp ุจุฏูุงู ูู ูุชุงุจุฉ ุงูุฑุฏูุฏ.

---

## ๐ฏ ุงููุฑู ุจูู ุงูุทุฑููุชูู

### โ **ุจุฏูู ุฃุฒุฑุงุฑ** (ุงูุทุฑููุฉ ุงููุฏููุฉ):
```
ุงููุณุชูู ููุชุจ: "ุชุฃููุฏ" ุฃู "1"
```

### โ **ูุน ุฃุฒุฑุงุฑ** (ุงูุทุฑููุฉ ุงูุฌุฏูุฏุฉ):
```
ุงููุณุชูู ูุถุบุท ุนูู: [โ ุชุฃููุฏ ุงูุญุถูุฑ]
```

---

## ๐ ุฎุทูุงุช ุฅูุดุงุก Template ุจุฃุฒุฑุงุฑ

### **ุงูุฎุทูุฉ 1: ุงุฐูุจ ุฅูู Twilio Console**

```
https://console.twilio.com/
โ Messaging
โ Content API
โ Create Content
```

---

### **ุงูุฎุทูุฉ 2: General Information**

```
Template Name: technical_competencies_forum_buttons
               (ููุท ุญุฑูู ุตุบูุฑุฉุ ุฃุฑูุงูุ underscore)

Template Language: Arabic (ar)

Content Type: twilio/quick-reply
              (ููู ุฌุฏุงู! ุงุฎุชุฑ ูุฐุง ุงูููุน ููุฃุฒุฑุงุฑ)
```

---

### **ุงูุฎุทูุฉ 3: Content - Body**

ุงูุณุฎ ูุงูุตู ุงููุต ุงูุชุงูู:

```
๐ผ *ููุชูู ุงูููุงุกุงุช ุงูุชูููุฉ*

ุนุฒูุฒู {{1}}ุ ุงูุณูุงู ุนูููู ูุฑุญูุฉ ุงููู ๐น

ูุณุฑูุง ุฏุนูุชู ูุญุถูุฑ ููุชูู ุงูุชูุธูู:

๐ ุงูุชุงุฑูุฎ: ููู ุงูุฃุญุฏ 15
โฐ ุงููุฏุฉ: ูููุงู ูุชุชุงููุงู  
๐ ุงููููุน: ูุณุฑุญ ุงููููุฉ ุงูุชูููุฉ

๐ฏ ูุฑุตุฉ ุงุณุชุซูุงุฆูุฉ ูููุงุก ุงูุดุฑูุงุช ุงูุฑุงุฆุฏุฉ ูุงูุญุตูู ุนูู ูุธููุฉ ูููุฒุฉ!

ุงููููุฉ ุงูุชูููุฉ ุจุงูุฃุญุณุงุก
```

**Variables:**
- `{{1}}` = ุงุณู ุงููุฏุนู (ุณููููุฃ ุชููุงุฆูุงู ูู ุงูููุฏ)

---

### **ุงูุฎุทูุฉ 4: Media URL (ุงุฎุชูุงุฑู)**

```
https://raw.githubusercontent.com/harbib-989/whatsapp-invitation-system/main/job_fair_image.png
```

---

### **ุงูุฎุทูุฉ 5: Actions - Quick Reply Buttons**

#### **Button 1 (ุชุฃููุฏ ุงูุญุถูุฑ):**

```
Button Type: Quick Reply

Button Text: โ ุชุฃููุฏ ุงูุญุถูุฑ
             (ูุฐุง ูุง ูุฑุงู ุงููุณุชุฎุฏู)

Button ID: confirm_attendance
           (ID ููุจุฑูุฌุฉ - ูุง ูุฑุงู ุงููุณุชุฎุฏู)
```

#### **Button 2 (ุงุนุชุฐุงุฑ):**

```
Button Type: Quick Reply

Button Text: โ ุงุนุชุฐุงุฑ ุนู ุงูุญุถูุฑ

Button ID: decline_attendance
```

---

### **ุงูุฎุทูุฉ 6: Submit**

ุงุถุบุท **Create** ุฃู **Submit**

โณ **ุงูุชุธุฑ ููุงููุฉ WhatsApp** (ุนุงุฏุฉ 24 ุณุงุนุฉ)

---

## ๐ธ ููู ุณุชุธูุฑ ุงูุฑุณุงูุฉุ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                               โ
โ   [ุตูุฑุฉ ููุชูู ุงูุชูุธูู]       โ
โ                               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ                               โ
โ ๐ผ ููุชูู ุงูููุงุกุงุช ุงูุชูููุฉ    โ
โ                               โ
โ ุนุฒูุฒู ุฃุญูุฏุ ุงูุณูุงู ุนูููู     โ
โ ูุฑุญูุฉ ุงููู ๐น                โ
โ                               โ
โ ูุณุฑูุง ุฏุนูุชู ูุญุถูุฑ ููุชูู      โ
โ ุงูุชูุธูู:                     โ
โ                               โ
โ ๐ ุงูุชุงุฑูุฎ: ููู ุงูุฃุญุฏ 15     โ
โ โฐ ุงููุฏุฉ: ูููุงู ูุชุชุงููุงู      โ
โ ๐ ุงููููุน: ูุณุฑุญ ุงููููุฉ       โ
โ                               โ
โ ๐ฏ ูุฑุตุฉ ุงุณุชุซูุงุฆูุฉ!           โ
โ                               โ
โ ุงููููุฉ ุงูุชูููุฉ ุจุงูุฃุญุณุงุก      โ
โ                               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ                               โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ  โ ุชุฃููุฏ ุงูุญุถูุฑ      โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                               โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ  โ ุงุนุชุฐุงุฑ ุนู ุงูุญุถูุฑ  โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ป ููููุฉ ุฅุฑุณุงู ุงูุฑุณุงูุฉ ุจุงูุฃุฒุฑุงุฑุ

### **Approach 1: ูู Python**

```python
from twilio.rest import Client
import json

client = Client(ACCOUNT_SID, AUTH_TOKEN)

# ุงุญุตู ุนูู Content SID ูู Twilio ุจุนุฏ ุงูููุงููุฉ
CONTENT_SID = "HXxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

message = client.messages.create(
    content_sid=CONTENT_SID,
    content_variables=json.dumps({
        "1": "ุฃุญูุฏ"  # ุงุณู ุงููุณุชูู
    }),
    from_="whatsapp:+966550308539",
    to="whatsapp:+966501234567"
)

print(f"ุชู ุงูุฅุฑุณุงู: {message.sid}")
```

---

### **Approach 2: ูู Dashboard**

1. ุงูุชุญ: `https://your-app.onrender.com/dashboard`
2. ุฃุฏุฎู ุงูุงุณู ูุงูุฑูู
3. ุงุถุบุท **ุฅุฑุณุงู ุฏุนูุฉ**
4. ุณููุฑุณู ุชููุงุฆูุงู ุจุงูุฃุฒุฑุงุฑ

---

## ๐ ููู ูุนูู Webhookุ

### **ุนูุฏ ุถุบุท ุงููุณุชูู ุนูู ุงูุฒุฑ:**

1. **ุงููุณุชูู ูุถุบุท:** [โ ุชุฃููุฏ ุงูุญุถูุฑ]

2. **Twilio ูุฑุณู ุฅูู webhook:**
```json
{
  "From": "whatsapp:+966501234567",
  "Body": "",
  "ButtonPayload": "confirm_attendance"
}
```

3. **ุงููุธุงู ูุฑุฏ ุชููุงุฆูุงู:**
```
โ ุชู ุชุฃููุฏ ุญุถูุฑู ุจูุฌุงุญ!

ุดูุฑุงู ุฃุญูุฏ ๐

ูุชุดุฑู ุจุญุถูุฑู ูู:
๐ผ ููุชูู ุงูููุงุกุงุช ุงูุชูููุฉ

๐ ููู ุงูุฃุญุฏ 15 - ููุฏุฉ ููููู
๐ ูุณุฑุญ ุงููููุฉ ุงูุชูููุฉ

๐ก ูุตุงุฆุญ ูููุฉ:
โข ุฃุญุถุฑ ุณูุฑุชู ุงูุฐุงุชูุฉ ูุทุจูุนุฉ
โข ุงุฑุชุฏู ููุงุจุณ ุฑุณููุฉ
โข ูู ูุณุชุนุฏุงู ููููุงุจูุงุช ุงูููุฑูุฉ

ุณูุฑุณู ูู ุชุฐููุฑุงู ูุจู ุงููุนุงููุฉ ๐ฒ

ูู ุงูุชุธุงุฑ ุญุถูุฑู! ๐

ุงููููุฉ ุงูุชูููุฉ ุจุงูุฃุญุณุงุก
```

4. **ููุญูุธ ุงูุฑุฏ ูู:** `responses.json`

---

## ๐ ููุงุฑูุฉ ุงูุฃููุงุน ุงููุฎุชููุฉ

### **1. Quick Reply Buttons** โญ (ููุตู ุจู)

```
Content Type: twilio/quick-reply

ุงููููุฒุงุช:
โ ุณูู ุงูุงุณุชุฎุฏุงู
โ ุฃุฒุฑุงุฑ ูุงุถุญุฉ
โ ูุนูู ูุน ุฌููุน ุงูุฃุฌูุฒุฉ
โ ูุง ูุญุชุงุฌ ูุชุญ ุฑูุงุจุท

ุงูุนููุจ:
โ ูุฎุชูู ุจุนุฏ ุงูุถุบุท (ุงุณุชุฎุฏุงู ูุงุญุฏ)
โ ุญุฏ ุฃูุตู 3 ุฃุฒุฑุงุฑ
```

---

### **2. Call to Action Buttons**

```
Content Type: twilio/call-to-action

ุงููููุฒุงุช:
โ ูููู ูุชุญ ุฑูุงุจุท ุฎุงุฑุฌูุฉ
โ ูููู ุนูู ููุงููุงุช ูุงุชููุฉ

ุงูุนููุจ:
โ ุฃูุซุฑ ุชุนููุฏุงู
โ ููุชุญ ูุชุตูุญ ุฎุงุฑุฌู
```

---

### **3. List Picker**

```
Content Type: twilio/list-picker

ุงููููุฒุงุช:
โ ูุฏุนู ููุงุฆู ุทูููุฉ
โ ููุธู ููุฎูุงุฑุงุช ุงููุซูุฑุฉ

ุงูุนููุจ:
โ ูุญุชุงุฌ ุฎุทูุงุช ุฅุถุงููุฉ
โ ุฃูู ูุถูุญุงู ูู ุงูุฃุฒุฑุงุฑ
```

---

## ๐ง ุงูุชุนุฏููุงุช ูู ุงูููุฏ

### **ุชู ุชุญุฏูุซ `webhook_server.py`:**

```python
def classify_response(text):
    """ุชุตููู ุฑุฏ ุงููุฏุนู - ูุฏุนู ุงููุตูุต ูุงูุฃุฒุฑุงุฑ"""
    text = text.strip().lower()
    
    # ุฏุนู Button IDs ูู Quick Reply โจ ุฌุฏูุฏ
    if text in ["confirm_attendance", "confirm", "accept_button"]:
        return "accept"
    if text in ["decline_attendance", "decline", "decline_button"]:
        return "decline"
    
    # ุฏุนู ุงููุตูุต ุงูุนุงุฏูุฉ (ููุชูุงูููุฉ)
    # ... (ุงูููุฏ ุงููุฏูู)
```

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

### **1. ุงูููุงููุฉ ูู WhatsApp:**
- Templates ุจุงูุฃุฒุฑุงุฑ ุชุญุชุงุฌ ููุงููุฉ
- ุนุงุฏุฉ ุชุฃุฎุฐ 24 ุณุงุนุฉ
- ุฑุงุฌุน WhatsApp Business Policy

### **2. ุญุฏูุฏ WhatsApp:**
- ุญุฏ ุฃูุตู **3 ุฃุฒุฑุงุฑ Quick Reply**
- ูุต ุงูุฒุฑ: ุญุฏ ุฃูุตู 20 ุญุฑู
- Button ID: ุญุฏ ุฃูุตู 256 ุญุฑู

### **3. ููุงุฎุชุจุงุฑ:**
- ุงุณุชุฎุฏู Twilio Sandbox ุฃููุงู
- ุงุฎุชุจุฑ ูุน 2-3 ุฃุฑูุงู
- ุชุฃูุฏ ูู Webhook ูุนูู

---

## ๐จ ุญู ุงููุดุงูู

### **ุงููุดููุฉ: ุงูุฃุฒุฑุงุฑ ูุง ุชุธูุฑ**

**ุงูุฃุณุจุงุจ ุงููุญุชููุฉ:**
1. Template ุบูุฑ ูุนุชูุฏ ุจุนุฏ
2. ุงุฎุชุฑุช Content Type ุฎุงุทุฆ
3. ุงูุฌูุงุฒ ูุง ูุฏุนู WhatsApp Business API

**ุงูุญู:**
- ุชุฃูุฏ ูู ุงุฎุชูุงุฑ `twilio/quick-reply`
- ุงูุชุธุฑ ุงูููุงููุฉ ูู WhatsApp
- ุงุฎุชุจุฑ ุนูู ุฌูุงุฒ ุขุฎุฑ

---

### **ุงููุดููุฉ: ุงูุถุบุท ูุง ูุณุฌู ุฑุฏ**

**ุงูุณุจุจ:**
- Webhook URL ุบูุฑ ุตุญูุญ
- Button ID ูุง ูุชุทุงุจู ูุน ุงูููุฏ

**ุงูุญู:**
```python
# ุชุฃูุฏ ูู ูุฐู ุงูุฃุณุทุฑ ูู webhook_server.py:
button_payload = request.form.get("ButtonPayload", "").strip()
action_text = button_payload if button_payload else body
```

---

### **ุงููุดููุฉ: ุฑุณุงูุฉ ุฎุทุฃ ูู Twilio**

**ุงูุญู:**
1. ุงูุชุญ Twilio Console
2. ุงุฐูุจ ุฅูู **Monitor โ Logs โ Errors**
3. ุฑุงุฌุน ุชูุงุตูู ุงูุฎุทุฃ
4. ุตุญุญ ุงููุดููุฉ

---

## ๐ ูุซุงู ูุงูู

### **1. ุฅูุดุงุก Template:**
```
Name: technical_competencies_forum_buttons
Type: twilio/quick-reply
Body: [ุงููุต ูุน {{1}}]
Buttons: 
  - โ ุชุฃููุฏ ุงูุญุถูุฑ (confirm_attendance)
  - โ ุงุนุชุฐุงุฑ (decline_attendance)
```

### **2. ุฅุฑุณุงู ุงูุฑุณุงูุฉ:**
```python
client.messages.create(
    content_sid="HXxxxx",
    content_variables='{"1":"ุฃุญูุฏ"}',
    from_="whatsapp:+966550308539",
    to="whatsapp:+966501234567"
)
```

### **3. ุงููุณุชูู ูุถุบุท ุฒุฑ**

### **4. Webhook ูุณุชูุจู:**
```
ButtonPayload: "confirm_attendance"
```

### **5. ุงููุธุงู ูุฑุฏ ุชููุงุฆูุงู**

### **6. ููุญูุธ ูู Database**

---

## โ Checklist ูุจู ุงูุฅุทูุงู

- [ ] ุชู ุฅูุดุงุก Template ูู Twilio
- [ ] ุชู ุงุฎุชูุงุฑ `twilio/quick-reply`
- [ ] ุชูุช ุฅุถุงูุฉ ุงูุตูุฑุฉ (Media URL)
- [ ] ุชู ุฅุถุงูุฉ ุฒุฑูู: ุชุฃููุฏ + ุงุนุชุฐุงุฑ
- [ ] ุชู Submit ูุงูุงูุชุธุงุฑ ููููุงููุฉ
- [ ] ุชู ูุณุฎ Content SID
- [ ] ุชู ุชุญุฏูุซ `webhook_server.py`
- [ ] ุชู ุงุฎุชุจุงุฑ Webhook URL
- [ ] ุชู ุงุฎุชุจุงุฑ ุฅุฑุณุงู ูุฑูู ูุงุญุฏ
- [ ] ุชู ุงูุชุฃูุฏ ูู ุงูุฑุฏ ุงูุชููุงุฆู ูุนูู
- [ ] ุฌุงูุฒ ููุฅุฑุณุงู ุงูุฌูุงุนู! ๐

---

## ๐ ูุตุงุฆุญ ุงุญุชุฑุงููุฉ

### โจ **ูุฃูุถู ุชุฌุฑุจุฉ ูุณุชุฎุฏู:**

1. **ุงุฌุนู ูุต ุงูุฒุฑ ูุงุถุญ ููุฎุชุตุฑ**
   - โ ุฌูุฏ: "ุชุฃููุฏ ุงูุญุถูุฑ"
   - โ ุณูุก: "ูุนู ุฃุฑูุฏ ุชุฃููุฏ ุญุถูุฑู ูููุนุงููุฉ"

2. **ุงุณุชุฎุฏู Emojis ููุงุณุจุฉ**
   - โ ููุชุฃููุฏ
   - โ ููุฑูุถ
   - ๐ผ ูููุนุงููุงุช ุงูููููุฉ

3. **ุงุฎุชุจุฑ ุนูู ุฃุฌูุฒุฉ ูุฎุชููุฉ**
   - Android
   - iPhone
   - WhatsApp Web

4. **ุงุญูุธ ูุณุฎุฉ ุงุญุชูุงุทูุฉ**
   - ุงุญูุธ Template Settings
   - ุงุญูุธ Content SID
   - ุฑุงูุจ Logs

---

## ๐ ููุฏุนู

ุฅุฐุง ูุงุฌูุช ูุดุงูู:
1. ุฑุงุฌุน Twilio Documentation
2. ุชุญูู ูู WhatsApp Business Policy
3. ุฑุงุฌุน `webhook_log.txt` ููุฃุฎุทุงุก
4. ุงุณุชุฎุฏู Twilio Debugger

---

๐ฏ **ุฌุงูุฒ! ุงูุขู ูุฏูู ุฃุฒุฑุงุฑ ุชูุงุนููุฉ ุงุญุชุฑุงููุฉ ูู WhatsApp!** ๐
